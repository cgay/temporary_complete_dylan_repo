OPEN_DYLAN_RELEASE_BIN=$(OPEN_DYLAN_RELEASE_INSTALL)/bin
OPEN_DYLAN_RELEASE_INCLUDE=$(OPEN_DYLAN_RELEASE_INSTALL)/include
OPEN_DYLAN_RELEASE_LIB=$(OPEN_DYLAN_RELEASE_INSTALL)/lib
OPEN_DYLAN_USER_BIN=$(OPEN_DYLAN_USER_INSTALL)/bin
OPEN_DYLAN_USER_INCLUDE=$(OPEN_DYLAN_USER_INSTALL)/include
OPEN_DYLAN_USER_LIB=$(OPEN_DYLAN_USER_INSTALL)/lib

CC      = gcc
LINKLIB = ${OPEN_DYLAN_LD}  $(OPEN_DYLAN_LINKLIB_FLAGS) -o 
CFLAGS  = -g -D_DEBUG ${OPEN_DYLAN_C_FLAGS} -I${OPEN_DYLAN_USER_INCLUDE} 
OBJS    = run-time.o debug-print.o dummy-threads.o
LIB	= lib_run-time.${OPEN_DYLAN_LIB_SUFFIX}

${LIB}: ${OBJS}
	${LINKLIB} $@ ${OBJS}

install: ${LIB} 
	(cd $(OPEN_DYLAN_USER_LIB); rm -f ${LIB})
	cp -p ${LIB} ${OPEN_DYLAN_USER_LIB}
	(cd $(OPEN_DYLAN_USER_INCLUDE); rm -f run-time.h)
	cp -p run-time.h ${OPEN_DYLAN_USER_INCLUDE}

clean: 
	rm -f ${OBJS} ${LIB}


