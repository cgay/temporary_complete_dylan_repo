
#  Dylan libraries for interfacing with GDK.
#
#  This file controls the generation of source files that are created
#  automatically by adapting information from the GTK C header files.

# Copyright (C) 1998 Functional Objects, Inc. All rights reserved.


GDK=gdk.dylan gdki18n.dylan gdkkeysyms.dylan gdkrgb.dylan \
    gdkcursors.dylan gdkinput.dylan gdktypes.dylan \
    library.dylan
GDKTOD=$(XTOD) -module gdk -f $(COMSLOT)

all: $(GDK)

include ../glib/sources.mak


library.dylan: library.src gdk.dylan gdki18n.dylan gdkkeysyms.dylan \
               gdkrgb.dylan gdkcursors.dylan gdkinput.dylan \
               gdktypes.dylan

dependencies: $(PATTERN-DEP) $(COMSLOT) make-sources obsolete.text
  
gdk.dylan: $(GDKHDIR)/gdk.h  dependencies
	$(GDKTOD) $(GDKHDIR)/gdk.h $@

gdki18n.dylan: $(GDKHDIR)/gdki18n.h dependencies
	$(GDKTOD) $(GDKHDIR)/gdki18n.h $@

gdkkeysyms.dylan: $(GDKHDIR)/gdkkeysyms.h dependencies
	$(GDKTOD) $(GDKHDIR)/gdkkeysyms.h $@

gdkrgb.dylan: $(GDKHDIR)/gdkrgb.h dependencies
	$(GDKTOD) $(GDKHDIR)/gdkrgb.h $@

gdkcursors.dylan: $(GDKHDIR)/gdkcursors.h dependencies
	$(GDKTOD) $(GDKHDIR)/gdkcursors.h $@

gdkinput.dylan: $(GDKHDIR)/gdkinput.h dependencies
	$(GDKTOD) $(GDKHDIR)/gdkinput.h $@

gdktypes.dylan: $(GDKHDIR)/gdktypes.h dependencies
	$(GDKTOD) $(GDKHDIR)/gdktypes.h $@

test.dylan: $(GDKHDIR)/test.h dependencies
	$(GDKTOD) $(GDKHDIR)/test.h $@


# remove all generated files
clean:
	rm -f $(GDK) *.bak *.exp

# remove internal temporary files
tidy:
	rm -f *.bak *.exp

DTAGS=/u/dylan/tools/gnuemacs/dtags
TAGS: $(GLIB) special.dylan
	$(DTAGS) special.dylan $(GLIB)

tags: TAGS
