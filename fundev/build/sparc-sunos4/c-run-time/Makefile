FUNCTIONAL_DYLAN_RELEASE_BIN=$(FUNCTIONAL_DYLAN_RELEASE_INSTALL)/bin
FUNCTIONAL_DYLAN_RELEASE_INCLUDE=$(FUNCTIONAL_DYLAN_RELEASE_INSTALL)/include
FUNCTIONAL_DYLAN_RELEASE_LIB=$(FUNCTIONAL_DYLAN_RELEASE_INSTALL)/lib
FUNCTIONAL_DYLAN_USER_BIN=$(FUNCTIONAL_DYLAN_USER_INSTALL)/bin
FUNCTIONAL_DYLAN_USER_INCLUDE=$(FUNCTIONAL_DYLAN_USER_INSTALL)/include
FUNCTIONAL_DYLAN_USER_LIB=$(FUNCTIONAL_DYLAN_USER_INSTALL)/lib

CC      = gcc
LINKLIB = ${FUNCTIONAL_DYLAN_LD}  $(FUNCTIONAL_DYLAN_LINKLIB_FLAGS) -o 
CFLAGS  = -g -D_DEBUG ${FUNCTIONAL_DYLAN_C_FLAGS} -I${FUNCTIONAL_DYLAN_USER_INCLUDE} 
OBJS    = run-time.o debug-print.o dummy-threads.o
LIB	= lib_run-time.${FUNCTIONAL_DYLAN_LIB_SUFFIX}

${LIB}: ${OBJS}
	${LINKLIB} $@ ${OBJS}

install: ${LIB} 
	(cd $(FUNCTIONAL_DYLAN_USER_LIB); rm -f ${LIB})
	cp -p ${LIB} ${FUNCTIONAL_DYLAN_USER_LIB}
	(cd $(FUNCTIONAL_DYLAN_USER_INCLUDE); rm -f run-time.h)
	cp -p run-time.h ${FUNCTIONAL_DYLAN_USER_INCLUDE}

clean: 
	rm -f ${OBJS} ${LIB}


