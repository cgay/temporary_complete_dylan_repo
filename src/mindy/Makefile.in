######################################################################
##
## Copyright (c) 1994  Carnegie Mellon University
## All rights reserved.
## 
## Use and copying of this software and preparation of derivative
## works based on this software are permitted, including commercial
## use, provided that the following conditions are observed:
## 
## 1. This copyright notice must be retained in full on any copies
##    and on appropriate parts of any derivative works.
## 2. Documentation (paper or online) accompanying any system that
##    incorporates this software, or any part of it, must acknowledge
##    the contribution of the Gwydion Project at Carnegie Mellon
##    University.
## 
## This software is made available "as is".  Neither the authors nor
## Carnegie Mellon University make any warranty about the software,
## its performance, or its conformity to any specification.
## 
## Bug reports, questions, comments, and suggestions should be sent by
## E-mail to the Internet address "gwydion-bugs@cs.cmu.edu".
##
######################################################################
##
##  $Header: /home/housel/work/rcs/gd/src/mindy/Attic/Makefile.in,v 1.3 1994/10/08 17:10:27 nkramer Exp $
##
##  This is the top-level source makefile for Mindy.  It lives at the top
## of the Mindy source tree, and recursivly runs make on each of the
## subdirectoies.
##

SHELL	=	/bin/sh

##
## begin autoconf'ed source
##

prefix	=		@prefix@
exec_prefix	=	@exec_prefix@
srcdir	=		@srcdir@

SRCDIR	=		${srcdir}
BINDIR	=		${exec_prefix}/bin
LIBDIR	=		${exec_prefix}/lib/mindy

CC	=		@CC@
CCOPTS	=		@CCOPTS@
CFLAGS	=		$(CCOPTS) -I${SRCDIR} @DEFS@ -DBINDIR=\"${BINDIR}\" -DLIBDIR=\"${LIBDIR}\"
YACC	=		@YACC@
YFLAGS	=		-d
LEX	=		@LEX@
LFLAGS	=		@LFLAGS@
RANLIB	=		@RANLIB@
INSTALL	=		@INSTALL@
INSTALL_PROGRAM	=	@INSTALL_PROGRAM@
INSTALL_DATA	=	@INSTALL_DATA@
MKINSTALLDIRS	=	@top_srcdir@/mkinstalldirs

LIBOBJS =		@LIBOBJS@
LIBS	=		@LIBS@

##
## end of configure written portion
##

CSUBDIRS	=	compat interp comp etc
DYLANSUBDIRS	=	libraries demos tests
SUBDIRS	=	${CSUBDIRS} ${DYLANSUBDIRS}

all: compiler interpreter etcetera libraries demos tests

libcompat:
	cd compat; ${MAKE};

compiler: libcompat
	cd comp; ${MAKE};

interpreter: libcompat
	cd interp; ${MAKE};

etcetera: libcompat
	cd etc; ${MAKE};

${DYLANSUBDIRS}: compiler

libraries: compiler
	cd libraries; ${MAKE}

demos: compiler libraries
	cd demos; ${MAKE}

tests: compiler libraries
	cd tests; ${MAKE}

clean:
	rm -f *~ \#* core
	for dir in ${SUBDIRS};\
	do (cd $$dir; ${MAKE} clean;)\
	done

realclean:
	rm -f Makefile *~ \#* core
	for dir in ${SUBDIRS};\
	do (cd $$dir; ${MAKE} realclean;)\
	done

installdirs: 
	${MKINSTALLDIRS} ${BINDIR} ${LIBDIR}

install: installdirs
	for dir in ${SUBDIRS};\
	do (cd $$dir; ${MAKE} install;)\
	done



