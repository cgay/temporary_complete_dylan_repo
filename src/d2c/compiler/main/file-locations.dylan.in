module: main
author: Nick Kramer
rcs-header: $Header: /home/housel/work/rcs/gd/src/d2c/compiler/main/Attic/file-locations.dylan.in,v 1.5 1997/02/04 14:39:37 nkramer Exp $
copyright: Copyright (c) 1994  Carnegie Mellon University
	   All rights reserved.

// Where to find various important files.

// We find the location of the "Gwydion directory", and then compute
// locations from that.  Truth be told, this scheme leaves much to be
// desired.  For one, the group AFS tree actually doesn't match up
// with this mythical Gwydion dir that we're referencing.  As a first
// approximation, gwydion/compiler can be our "Gwydion dir".

// A second problem is that, gwydion dir or not, the compiler doesn't
// automatically search it for library files.  It probably should, but
// then we'd need a way of specifying "no implicit -L$GwydionDir".

define constant $gwydion-dir
  = getenv("GwydionDir") | 
      #if (compiled-for-win32)
	 "/gwydion";
      #elseif (compiled-for-unix)
	 "/afs/cs/project/gwydion/compiler";
      #else
         #f;  // no default
      #endif

define constant $default-targets-dot-descr
  = if ($gwydion-dir)
      concatenate($gwydion-dir, "/etc/platforms.descr");
    else
      #f;
    end if;
