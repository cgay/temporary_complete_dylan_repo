
print <<'EOF';

MC = mindycomp
MINDYFLAGS = 
MINDY = mindy

%.dbc: %.dylan
	$(MC) ${MINDYFLAGS} -lcompiler-base -o $@ $<

OBJS = \
	base-exports.dbc \
	params.dbc \
	utils.dbc \
	od-format.dbc \
	dylan-dump.dbc \
	ctv.dbc \
	source.dbc \
	errors.dbc \
	header.dbc \
	tokens.dbc \
	names.dbc \
	defns.dbc \
	variables.dbc \
	fragments.dbc \
	parse-tree.dbc \
	policy.dbc \
	lexenv.dbc \
	ctype.dbc \
	rep.dbc \
	cclass.dbc \
	type-dump.dbc \
	c-rep.dbc \
	transdef.dbc \
	ctfunc.dbc \
	cteval.dbc \
	expand.dbc \
	data-flow.dbc \
	control-flow.dbc \
	signature.dbc

baselib.dbc: ${OBJS}
	cat $^ > $@

EOF

push(@compile_dependencies, 'baselib.dbc');

push(@files_to_clean, '*.dbc');
